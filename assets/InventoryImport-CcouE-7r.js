import{d as b,r as d,b as g,f as y,z as C,bo as k,j as e,F as r,B as n,J as F}from"./index-C24s9YLx.js";import{N as S}from"./Notification-KpAXhuNN.js";const I=()=>{const{t}=b(),[m,u]=d.useState(!0),{buttonOn:a,setButtonOn:o}=g(),h=y(),[l,c]=d.useState(null),f=s=>{var x;const i=((x=s.target.files)==null?void 0:x[0])||null;c(i)},j=()=>{c(null)},w=()=>{const s=document.createElement("a");s.href="https://storage.yandexcloud.net/onvi-business/nomenclature/template.xlsx",s.download="template.xlsx",s.click()},{trigger:p,isMutating:v}=C(["create-inventory"],async(s,{arg:i})=>k(i)),N=async()=>{if(!l){console.error("No file selected.");return}await p({file:l})&&h("/warehouse/inventory")};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"p-4 sm:p-6",children:[m&&e.jsx(S,{title:t("warehouse.loading"),message:t("warehouse.importing"),onClose:()=>u(!1)}),e.jsx("div",{className:"font-semibold text-xl sm:text-2xl mt-5 text-primary02",children:t("warehouse.fileSel")}),e.jsx("div",{className:"flex flex-col sm:flex-row mt-5 gap-4",children:e.jsxs("div",{onClick:()=>o(!a),className:`w-full sm:w-80 h-40 flex flex-col justify-center items-center cursor-pointer ${a?"bg-white border-2 border-primary02":"bg-background05"} rounded-2xl`,children:[e.jsxs("div",{className:`flex items-center space-x-2 ${a?"text-primary02":"text-text01"}`,children:[e.jsx(r,{icon:"file"}),e.jsx("div",{className:"font-semibold text-lg",children:t("warehouse.use")})]}),e.jsx("div",{className:`mt-2 ml-5 text-base ${a?"text-text01":"text-text02"} font-normal`,children:t("warehouse.download")})]})}),e.jsxs("div",{className:"mt-10 w-full max-w-3xl",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between text-text02 text-base font-normal",children:[e.jsx("div",{children:t("warehouse.fileDown")}),e.jsx("div",{children:t("warehouse.xls")})]}),e.jsx("div",{className:"border rounded-lg h-24 flex justify-center items-center text-center mt-4",children:l?e.jsxs("div",{className:"flex items-center justify-between space-x-3 p-2 w-full",children:[e.jsxs("div",{className:"flex items-center truncate",children:[e.jsx("div",{className:"text-primary02 truncate",children:l.name}),e.jsxs("div",{className:"text-text01 ml-2",children:["(",(l.size/1024).toFixed(2)," kB)"]})]}),e.jsx("button",{className:"text-text02",onClick:j,children:e.jsx(r,{icon:"x"})})]}):e.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2",children:[e.jsxs("label",{htmlFor:"file-upload",className:"flex items-center text-primary02 cursor-pointer space-x-2",children:[e.jsx(r,{icon:"download"}),e.jsx("div",{children:t("warehouse.select")})]}),e.jsx("input",{id:"file-upload",type:"file",accept:".xlsx, .xls",className:"hidden",onChange:f}),e.jsx("div",{className:"text-text01",children:t("warehouse.or")})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-8",children:[e.jsx(n,{title:t("warehouse.reset"),type:"outline",handleClick:()=>{}}),e.jsx(n,{title:t("pos.download"),form:!0,handleClick:N,isLoading:v})]}),e.jsx(F,{classname:"w-full max-w-lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"font-semibold text-xl sm:text-2xl mb-5 text-text01",children:t("warehouse.fileReq")}),e.jsx("div",{className:"font-normal text-base text-text01",children:t("warehouse.toAvoid")}),e.jsx("div",{className:"font-normal text-base text-text01",children:t("warehouse.useCorr")}),e.jsx("div",{className:"font-normal text-base text-text01",children:t("warehouse.supp")}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(n,{title:t("organizations.cancel"),handleClick:()=>o(!1)}),e.jsx(n,{title:t("warehouse.down"),type:"outline",iconDownload:!0,handleClick:w})]})]})})]})})};export{I as default};
