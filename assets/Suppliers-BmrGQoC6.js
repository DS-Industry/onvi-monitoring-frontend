import{d as q,b as z,r as f,v as B,b5 as L,y as O,z as P,bm as R,j as e,A as V,D as M,bn as S,G as A,H,b9 as W,J as G,K as v,B as y,M as J}from"./index-C24s9YLx.js";const U=()=>{var h,g,j;const{t:s}=q(),{buttonOn:i,setButtonOn:c}=z(),[u,w]=f.useState(""),{data:n,isLoading:N}=B(["get-supplier"],()=>L(),{revalidateOnFocus:!1,revalidateOnReconnect:!1,keepPreviousData:!0}),o=((h=n==null?void 0:n.map(t=>t.props))==null?void 0:h.filter(t=>t.name.toLowerCase().includes(u.toLowerCase())))||[],m={name:"",contact:""},[a,p]=f.useState(m),{register:d,handleSubmit:C,errors:r,setValue:D,reset:F}=O(a),{trigger:I,isMutating:T}=P(["create-supplier"],async()=>R({name:a.name,contact:a.contact})),x=(t,b)=>{p(E=>({...E,[t]:b})),D(t,b)},l=()=>{p(m),F(),c(!i)},k=async()=>{try{if(await I())J(["get-supplier"]),l();else throw new Error("Invalid response from API")}catch(t){console.error("Error during form submission: ",t)}};return e.jsxs(e.Fragment,{children:[e.jsx(V,{children:void 0,count:o.length,hideDateTime:!0,hideCity:!0,hidePage:!0,search:u,setSearch:w}),N?e.jsx(M,{columnCount:S.length}):o.length>0?e.jsx("div",{className:"mt-8",children:e.jsx(A,{data:o,columns:S})}):e.jsx("div",{className:"flex flex-col justify-center items-center",children:e.jsx(H,{title:s("warehouse.noSupply"),description:"",children:e.jsx("img",{src:W,className:"mx-auto",loading:"lazy",alt:"Suppliers"})})}),e.jsx(G,{onClose:l,children:e.jsxs("form",{className:"space-y-6",onSubmit:C(k),children:[e.jsx("div",{className:"font-semibold text-xl md:text-3xl mb-5 text-text01",children:s("routes.suppliers")}),e.jsx("span",{className:"font-semibold text-sm text-text01",children:s("warehouse.fields")}),e.jsx("div",{className:"font-semibold text-2xl mb-5 text-text01",children:s("warehouse.basic")}),e.jsx(v,{type:"",title:s("warehouse.supName"),label:s("warehouse.enterSup"),classname:"w-80",value:a.name,changeValue:t=>x("name",t.target.value),error:!!r.name,...d("name",{required:"Name is required"}),helperText:((g=r.name)==null?void 0:g.message)||""}),e.jsx(v,{type:"",title:`${s("profile.telephone")}*`,label:s("warehouse.enterPhone"),classname:"w-80",value:a.contact,changeValue:t=>x("contact",t.target.value),error:!!r.contact,...d("contact",{required:"Contact is required"}),helperText:((j=r.contact)==null?void 0:j.message)||""}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(y,{title:s("organizations.cancel"),type:"outline",handleClick:()=>{c(!i),l()}}),e.jsx(y,{title:s("organizations.save"),form:!0,isLoading:T,handleClick:()=>{}})]})]})})]})};export{U as default};
