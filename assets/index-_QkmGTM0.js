import{r,cV as He,bH as D,cW as Ae,bG as de,cX as Be,cY as Fe,aO as gt,aV as Ve,bV as ft,cZ as ht,c_ as pt,ac as v,bD as bt,c$ as vt,d0 as St,aM as je,d1 as Ke,d2 as Me,bP as yt,bQ as Ct,bS as $t,bR as K,d3 as xt,b_ as Ne,d4 as It,bC as Et,d5 as Pe,d6 as wt,d7 as kt,d8 as Tt,bY as Rt}from"./index-C24s9YLx.js";const fe=e=>{const t=new Map;return e.forEach((s,l)=>{t.set(s,l)}),t},Lt=e=>{const t=new Map;return e.forEach((s,l)=>{let{disabled:a,key:i}=s;a&&t.set(i,l)}),t},Ot=(e,t,s)=>{const l=r.useMemo(()=>(e||[]).map(c=>t?Object.assign(Object.assign({},c),{key:t(c)}):c),[e,t]),[a,i]=r.useMemo(()=>{var c;const g=[],S=Array.from({length:(c=s==null?void 0:s.length)!==null&&c!==void 0?c:0}),$=fe(s||[]);return l.forEach(f=>{if($.has(f.key)){const m=$.get(f.key);S[m]=f}else g.push(f)}),[g,S]},[l,s]);return[l,a.filter(Boolean),i.filter(Boolean)]},At=[];function ge(e,t){const s=e.filter(l=>t.has(l));return e.length===s.length?e:s}function De(e){return Array.from(e).join(";")}function jt(e,t,s){const[l,a]=r.useMemo(()=>[new Set(e.map(m=>m==null?void 0:m.key)),new Set(t.map(m=>m==null?void 0:m.key))],[e,t]),[i,c]=He(At,{value:s}),g=r.useMemo(()=>ge(i,l),[i,l]),S=r.useMemo(()=>ge(i,a),[i,a]);r.useEffect(()=>{c([].concat(D(ge(i,l)),D(ge(i,a))))},[De(l),De(a)]);const $=Ae(m=>{c([].concat(D(m),D(S)))}),f=Ae(m=>{c([].concat(D(g),D(m)))});return[g,S,$,f]}const Kt=e=>{const{renderedText:t,renderedEl:s,item:l,checked:a,disabled:i,prefixCls:c,onClick:g,onRemove:S,showRemove:$}=e,f=de(`${c}-content-item`,{[`${c}-content-item-disabled`]:i||l.disabled,[`${c}-content-item-checked`]:a&&!l.disabled});let m;(typeof t=="string"||typeof t=="number")&&(m=String(t));const[L]=Be("Transfer",Fe.Transfer),C={className:f,title:m},E=r.createElement("span",{className:`${c}-content-item-text`},s);return $?r.createElement("li",Object.assign({},C),E,r.createElement("button",{type:"button",disabled:i||l.disabled,className:`${c}-content-item-remove`,"aria-label":L==null?void 0:L.remove,onClick:()=>S==null?void 0:S(l)},r.createElement(gt,null))):(C.onClick=i||l.disabled?void 0:F=>g(l,F),r.createElement("li",Object.assign({},C),r.createElement(Ve,{className:`${c}-checkbox`,checked:a,disabled:i||l.disabled}),E))},Mt=r.memo(Kt),Nt=["handleFilter","handleClear","checkedKeys"],Pt=e=>Object.assign(Object.assign({},{simple:!0,showSizeChanger:!1,showLessItems:!1}),e),Dt=(e,t)=>{const{prefixCls:s,filteredRenderItems:l,selectedKeys:a,disabled:i,showRemove:c,pagination:g,onScroll:S,onItemSelect:$,onItemRemove:f}=e,[m,L]=r.useState(1),C=r.useMemo(()=>g?Pt(typeof g=="object"?g:{}):null,[g]),[E,F]=He(10,{value:C==null?void 0:C.pageSize});r.useEffect(()=>{if(C){const b=Math.ceil(l.length/E);L(Math.min(m,b))}},[l,C,E]);const q=(b,I)=>{$(b.key,!a.includes(b.key),I)},z=b=>{f==null||f([b.key])},O=b=>{L(b)},H=(b,I)=>{L(b),F(I)},B=r.useMemo(()=>C?l.slice((m-1)*E,m*E):l,[m,l,C,E]);r.useImperativeHandle(t,()=>({items:B}));const W=C?r.createElement(ft,{size:"small",disabled:i,simple:C.simple,pageSize:E,showLessItems:C.showLessItems,showSizeChanger:C.showSizeChanger,className:`${s}-pagination`,total:l.length,current:m,onChange:O,onShowSizeChange:H}):null,N=de(`${s}-content`,{[`${s}-content-show-remove`]:c});return r.createElement(r.Fragment,null,r.createElement("ul",{className:N,onScroll:S},(B||[]).map(b=>{let{renderedEl:I,renderedText:_,item:h}=b;return r.createElement(Mt,{key:h.key,item:h,renderedText:_,renderedEl:I,prefixCls:s,showRemove:c,onClick:q,onRemove:z,checked:a.includes(h.key),disabled:i||h.disabled})})),W)},zt=r.forwardRef(Dt),We=e=>{const{placeholder:t="",value:s,prefixCls:l,disabled:a,onChange:i,handleClear:c}=e,g=r.useCallback(S=>{i==null||i(S),S.target.value===""&&(c==null||c())},[i]);return r.createElement(ht,{placeholder:t,className:l,value:s,onChange:g,disabled:a,allowClear:!0,prefix:r.createElement(pt,null)})},Ht=()=>null;function Bt(e){return!!(e&&!v.isValidElement(e)&&Object.prototype.toString.call(e)==="[object Object]")}function ce(e){return e.filter(t=>!t.disabled).map(t=>t.key)}const Ft=e=>e!==void 0,Vt=e=>e&&typeof e=="object"?Object.assign(Object.assign({},e),{defaultValue:e.defaultValue||""}):{defaultValue:"",placeholder:""},Ie=e=>{const{prefixCls:t,dataSource:s=[],titleText:l="",checkedKeys:a,disabled:i,showSearch:c=!1,style:g,searchPlaceholder:S,notFoundContent:$,selectAll:f,deselectAll:m,selectCurrent:L,selectInvert:C,removeAll:E,removeCurrent:F,showSelectAll:q=!0,showRemove:z,pagination:O,direction:H,itemsUnit:B,itemUnit:W,selectAllLabel:N,selectionsIcon:b,footer:I,renderList:_,onItemSelectAll:h,onItemRemove:w,handleFilter:R,handleClear:X,filterOption:ue,render:oe=Ht}=e,Q=Vt(c),[k,M]=r.useState(Q.defaultValue),J=r.useRef({}),he=o=>{M(o.target.value),R(o)},pe=()=>{M(""),X()},be=(o,u)=>ue?ue(k,u,H):o.includes(k),ee=o=>{let u=_?_(Object.assign(Object.assign({},o),{onItemSelect:(T,V)=>o.onItemSelect(T,V)})):null;const y=!!u;return y||(u=v.createElement(zt,Object.assign({ref:J},o))),{customize:y,bodyContent:u}},te=o=>{const u=oe(o),y=Bt(u);return{item:o,renderedEl:y?u.label:u,renderedText:y?u.value:u}},P=r.useMemo(()=>Array.isArray($)?$[H==="left"?0:1]:$,[$,H]),[x,me]=r.useMemo(()=>{const o=[],u=[];return s.forEach(y=>{const T=te(y);k&&!be(T.renderedText,y)||(o.push(y),u.push(T))}),[o,u]},[s,k]),se=r.useMemo(()=>x.filter(o=>a.includes(o.key)&&!o.disabled),[a,x]),ne=r.useMemo(()=>{if(se.length===0)return"none";const o=fe(a);return x.every(u=>o.has(u.key)||!!u.disabled)?"all":"part"},[a,se]),ve=r.useMemo(()=>{const o=c?v.createElement("div",{className:`${t}-body-search-wrapper`},v.createElement(We,{prefixCls:`${t}-search`,onChange:he,handleClear:pe,placeholder:Q.placeholder||S,value:k,disabled:i})):null,{customize:u,bodyContent:y}=ee(Object.assign(Object.assign({},bt(e,Nt)),{filteredItems:x,filteredRenderItems:me,selectedKeys:a}));let T;return u?T=v.createElement("div",{className:`${t}-body-customize-wrapper`},y):T=x.length?y:v.createElement("div",{className:`${t}-body-not-found`},P),v.createElement("div",{className:de(`${t}-body`,{[`${t}-body-with-search`]:c})},o,T)},[c,t,S,k,i,a,x,me,P]),Se=v.createElement(Ve,{disabled:s.filter(o=>!o.disabled).length===0||i,checked:ne==="all",indeterminate:ne==="part",className:`${t}-checkbox`,onChange:()=>{h==null||h(x.filter(o=>!o.disabled).map(o=>{let{key:u}=o;return u}),ne!=="all")}}),ye=(o,u)=>{if(N)return typeof N=="function"?N({selectedCount:o,totalCount:u}):N;const y=u>1?B:W;return v.createElement(v.Fragment,null,(o>0?`${o}/`:"")+u," ",y)},G=I&&(I.length<2?I(e):I(e,{direction:H})),Z=de(t,{[`${t}-with-pagination`]:!!O,[`${t}-with-footer`]:!!G}),ae=G?v.createElement("div",{className:`${t}-footer`},G):null,Ce=!z&&!O&&Se;let ie;z?ie=[O?{key:"removeCurrent",label:F,onClick(){var o;const u=ce((((o=J.current)===null||o===void 0?void 0:o.items)||[]).map(y=>y.item));w==null||w(u)}}:null,{key:"removeAll",label:E,onClick(){w==null||w(ce(x))}}].filter(Boolean):ie=[{key:"selectAll",label:ne==="all"?m:f,onClick(){const o=ce(x);h==null||h(o,o.length!==a.length)}},O?{key:"selectCurrent",label:L,onClick(){var o;const u=((o=J.current)===null||o===void 0?void 0:o.items)||[];h==null||h(ce(u.map(y=>y.item)),!0)}}:null,{key:"selectInvert",label:C,onClick(){var o;const u=ce((((o=J.current)===null||o===void 0?void 0:o.items)||[]).map(V=>V.item)),y=new Set(a),T=new Set(y);u.forEach(V=>{y.has(V)?T.delete(V):T.add(V)}),h==null||h(Array.from(T),"replace")}}];const $e=v.createElement(vt,{className:`${t}-header-dropdown`,menu:{items:ie},disabled:i},Ft(b)?b:v.createElement(St,null));return v.createElement("div",{className:Z,style:g},v.createElement("div",{className:`${t}-header`},q?v.createElement(v.Fragment,null,Ce,$e):null,v.createElement("span",{className:`${t}-header-selected`},ye(se.length,x.length)),v.createElement("span",{className:`${t}-header-title`},l)),ve,ae)},_e=e=>{const{disabled:t,moveToLeft:s,moveToRight:l,leftArrowText:a="",rightArrowText:i="",leftActive:c,rightActive:g,className:S,style:$,direction:f,oneWay:m}=e;return r.createElement("div",{className:S,style:$},r.createElement(je,{type:"primary",size:"small",disabled:t||!g,onClick:l,icon:f!=="rtl"?r.createElement(Ke,null):r.createElement(Me,null)},i),!m&&r.createElement(je,{type:"primary",size:"small",disabled:t||!c,onClick:s,icon:f!=="rtl"?r.createElement(Me,null):r.createElement(Ke,null)},a))},Wt=e=>{const{antCls:t,componentCls:s,listHeight:l,controlHeightLG:a}=e,i=`${t}-table`,c=`${t}-input`;return{[`${s}-customize-list`]:{[`${s}-list`]:{flex:"1 1 50%",width:"auto",height:"auto",minHeight:l,minWidth:0},[`${i}-wrapper`]:{[`${i}-small`]:{border:0,borderRadius:0,[`${i}-selection-column`]:{width:a,minWidth:a}},[`${i}-pagination${i}-pagination`]:{margin:0,padding:e.paddingXS}},[`${c}[disabled]`]:{backgroundColor:"transparent"}}}},ze=(e,t)=>{const{componentCls:s,colorBorder:l}=e;return{[`${s}-list`]:{borderColor:t,"&-search:not([disabled])":{borderColor:l}}}},_t=e=>{const{componentCls:t}=e;return{[`${t}-status-error`]:Object.assign({},ze(e,e.colorError)),[`${t}-status-warning`]:Object.assign({},ze(e,e.colorWarning))}},Xt=e=>{const{componentCls:t,colorBorder:s,colorSplit:l,lineWidth:a,itemHeight:i,headerHeight:c,transferHeaderVerticalPadding:g,itemPaddingBlock:S,controlItemBgActive:$,colorTextDisabled:f,colorTextSecondary:m,listHeight:L,listWidth:C,listWidthLG:E,fontSizeIcon:F,marginXS:q,paddingSM:z,lineType:O,antCls:H,iconCls:B,motionDurationSlow:W,controlItemBgHover:N,borderRadiusLG:b,colorBgContainer:I,colorText:_,controlItemBgActiveHover:h}=e,w=K(e.calc(b).sub(a).equal());return{display:"flex",flexDirection:"column",width:C,height:L,border:`${K(a)} ${O} ${s}`,borderRadius:e.borderRadiusLG,"&-with-pagination":{width:E,height:"auto"},"&-search":{[`${B}-search`]:{color:f}},"&-header":{display:"flex",flex:"none",alignItems:"center",height:c,padding:`${K(e.calc(g).sub(a).equal())} ${K(z)} ${K(g)}`,color:_,background:I,borderBottom:`${K(a)} ${O} ${l}`,borderRadius:`${K(b)} ${K(b)} 0 0`,"> *:not(:last-child)":{marginInlineEnd:4},"> *":{flex:"none"},"&-title":Object.assign(Object.assign({},Ne),{flex:"auto",textAlign:"end"}),"&-dropdown":Object.assign(Object.assign({},It()),{fontSize:F,transform:"translateY(10%)",cursor:"pointer","&[disabled]":{cursor:"not-allowed"}})},"&-body":{display:"flex",flex:"auto",flexDirection:"column",fontSize:e.fontSize,minHeight:0,"&-search-wrapper":{position:"relative",flex:"none",padding:z}},"&-content":{flex:"auto",margin:0,padding:0,overflow:"auto",listStyle:"none",borderRadius:`0 0 ${w} ${w}`,"&-item":{display:"flex",alignItems:"center",minHeight:i,padding:`${K(S)} ${K(z)}`,transition:`all ${W}`,"> *:not(:last-child)":{marginInlineEnd:q},"> *":{flex:"none"},"&-text":Object.assign(Object.assign({},Ne),{flex:"auto"}),"&-remove":Object.assign(Object.assign({},xt(e)),{color:s,"&:hover, &:focus":{color:m}}),[`&:not(${t}-list-content-item-disabled)`]:{"&:hover":{backgroundColor:N,cursor:"pointer"},[`&${t}-list-content-item-checked:hover`]:{backgroundColor:h}},"&-checked":{backgroundColor:$},"&-disabled":{color:f,cursor:"not-allowed"}},[`&-show-remove ${t}-list-content-item:not(${t}-list-content-item-disabled):hover`]:{background:"transparent",cursor:"default"}},"&-pagination":{padding:e.paddingXS,textAlign:"end",borderTop:`${K(a)} ${O} ${l}`,[`${H}-pagination-options`]:{paddingInlineEnd:e.paddingXS}},"&-body-not-found":{flex:"none",width:"100%",margin:"auto 0",color:f,textAlign:"center"},"&-footer":{borderTop:`${K(a)} ${O} ${l}`},"&-checkbox":{lineHeight:1}}},Gt=e=>{const{antCls:t,iconCls:s,componentCls:l,marginXS:a,marginXXS:i,fontSizeIcon:c,colorBgContainerDisabled:g}=e;return{[l]:Object.assign(Object.assign({},$t(e)),{position:"relative",display:"flex",alignItems:"stretch",[`${l}-disabled`]:{[`${l}-list`]:{background:g}},[`${l}-list`]:Xt(e),[`${l}-operation`]:{display:"flex",flex:"none",flexDirection:"column",alignSelf:"center",margin:`0 ${K(a)}`,verticalAlign:"middle",gap:i,[`${t}-btn ${s}`]:{fontSize:c}}})}},Yt=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},Ut=e=>{const{fontSize:t,lineHeight:s,controlHeight:l,controlHeightLG:a,lineWidth:i}=e,c=Math.round(t*s);return{listWidth:180,listHeight:200,listWidthLG:250,headerHeight:a,itemHeight:l,itemPaddingBlock:(l-c)/2,transferHeaderVerticalPadding:Math.ceil((a-i-c)/2)}},qt=yt("Transfer",e=>{const t=Ct(e);return[Gt(t),Wt(t),_t(t),Yt(t)]},Ut),Ee=e=>{const{dataSource:t,targetKeys:s=[],selectedKeys:l,selectAllLabels:a=[],operations:i=[],style:c={},listStyle:g={},locale:S={},titles:$,disabled:f,showSearch:m=!1,operationStyle:L,showSelectAll:C,oneWay:E,pagination:F,status:q,prefixCls:z,className:O,rootClassName:H,selectionsIcon:B,filterOption:W,render:N,footer:b,children:I,rowKey:_,onScroll:h,onChange:w,onSearch:R,onSelectChange:X}=e,{getPrefixCls:ue,renderEmpty:oe,direction:Q,transfer:k}=r.useContext(Et),M=ue("transfer",z),[J,he,pe]=qt(M),[be,ee,te]=Ot(t,_,s),[P,x,me,se]=jt(ee,te,l),[ne,ve]=Pe(n=>n.key),[Se,ye]=Pe(n=>n.key),G=r.useCallback((n,d)=>{if(n==="left"){const p=typeof d=="function"?d(P||[]):d;me(p)}else{const p=typeof d=="function"?d(x||[]):d;se(p)}},[P,x]),Z=(n,d)=>{(n==="left"?ve:ye)(d)},ae=r.useCallback((n,d)=>{n==="left"?X==null||X(d,x):X==null||X(P,d)},[P,x]),Ce=n=>{var d;return(d=$??n.titles)!==null&&d!==void 0?d:[]},ie=n=>{h==null||h("left",n)},$e=n=>{h==null||h("right",n)},o=n=>{const d=n==="right"?P:x,p=Lt(be),A=d.filter(le=>!p.has(le)),j=fe(A),Y=n==="right"?A.concat(s):s.filter(le=>!j.has(le)),U=n==="right"?"left":"right";G(U,[]),ae(U,[]),w==null||w(Y,n,A)},u=()=>{o("left"),Z("left",null)},y=()=>{o("right"),Z("right",null)},T=(n,d,p)=>{G(n,A=>{let j=[];if(p==="replace")j=d;else if(p)j=Array.from(new Set([].concat(D(A),D(d))));else{const Y=fe(d);j=A.filter(U=>!Y.has(U))}return ae(n,j),j}),Z(n,null)},V=(n,d)=>{T("left",n,d)},Xe=(n,d)=>{T("right",n,d)},Ge=n=>R==null?void 0:R("left",n.target.value),Ye=n=>R==null?void 0:R("right",n.target.value),Ue=()=>R==null?void 0:R("left",""),qe=()=>R==null?void 0:R("right",""),Qe=(n,d,p,A,j)=>{d.has(p)&&(d.delete(p),Z(n,null)),A&&(d.add(p),Z(n,j))},Ze=(n,d,p,A)=>{(n==="left"?ne:Se)(A,d,p)},we=(n,d,p,A)=>{const j=n==="left",Y=D(j?P:x),U=new Set(Y),le=D(j?ee:te).filter(re=>!(re!=null&&re.disabled)),Le=le.findIndex(re=>re.key===d);A&&Y.length>0?Ze(n,le,U,Le):Qe(n,U,d,p,Le);const Oe=Array.from(U);ae(n,Oe),e.selectedKeys||G(n,Oe)},Je=(n,d,p)=>{we("left",n,d,p==null?void 0:p.shiftKey)},et=(n,d,p)=>{we("right",n,d,p==null?void 0:p.shiftKey)},tt=n=>{G("right",[]),w==null||w(s.filter(d=>!n.includes(d)),"left",D(n))},ke=n=>typeof g=="function"?g({direction:n}):g||{},nt=r.useContext(wt),{hasFeedback:lt,status:ot}=nt,st=n=>Object.assign(Object.assign(Object.assign({},n),{notFoundContent:(oe==null?void 0:oe("Transfer"))||v.createElement(Rt,{componentName:"Transfer"})}),S),at=Tt(ot,q),Te=!I&&F,it=te.filter(n=>x.includes(n.key)&&!n.disabled).length>0,rt=ee.filter(n=>P.includes(n.key)&&!n.disabled).length>0,ct=de(M,{[`${M}-disabled`]:f,[`${M}-customize-list`]:!!I,[`${M}-rtl`]:Q==="rtl"},kt(M,at,lt),k==null?void 0:k.className,O,H,he,pe),[dt]=Be("Transfer",Fe.Transfer),xe=st(dt),[ut,mt]=Ce(xe),Re=B??(k==null?void 0:k.selectionsIcon);return J(v.createElement("div",{className:ct,style:Object.assign(Object.assign({},k==null?void 0:k.style),c)},v.createElement(Ie,Object.assign({prefixCls:`${M}-list`,titleText:ut,dataSource:ee,filterOption:W,style:ke("left"),checkedKeys:P,handleFilter:Ge,handleClear:Ue,onItemSelect:Je,onItemSelectAll:V,render:N,showSearch:m,renderList:I,footer:b,onScroll:ie,disabled:f,direction:Q==="rtl"?"right":"left",showSelectAll:C,selectAllLabel:a[0],pagination:Te,selectionsIcon:Re},xe)),v.createElement(_e,{className:`${M}-operation`,rightActive:rt,rightArrowText:i[0],moveToRight:y,leftActive:it,leftArrowText:i[1],moveToLeft:u,style:L,disabled:f,direction:Q,oneWay:E}),v.createElement(Ie,Object.assign({prefixCls:`${M}-list`,titleText:mt,dataSource:te,filterOption:W,style:ke("right"),checkedKeys:x,handleFilter:Ye,handleClear:qe,onItemSelect:et,onItemSelectAll:Xe,onItemRemove:tt,render:N,showSearch:m,renderList:I,footer:b,onScroll:$e,disabled:f,direction:Q==="rtl"?"left":"right",showSelectAll:C,selectAllLabel:a[1],showRemove:E,pagination:Te,selectionsIcon:Re},xe))))};Ee.List=Ie;Ee.Search=We;Ee.Operation=_e;export{Ee as T};
