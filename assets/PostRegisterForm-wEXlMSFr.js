import{d as F,r as g,a9 as I,ab as C,eQ as E,aa as V,y as L,z as P,j as e,L as U,K as m,B as $}from"./index-C24s9YLx.js";import{p as B}from"./index-Bs2AcXlY.js";const A=({registerUser:x,registerToken:p,registerPermissions:f})=>{var l,d,u;const{t}=F(),[i,h]=g.useState(!1),y=I(),N=C(),j=E(),b=V(),v=()=>{h(!i)},T={fullName:"",organizationType:"",addressRegistration:""},[a,R]=g.useState(T),{register:n,handleSubmit:z,errors:r,setValue:S}=L(a),{trigger:w,isMutating:q}=P(["precreate-org"],async()=>B({fullName:a.fullName,organizationType:a.organizationType,addressRegistration:a.addressRegistration})),o=(s,c)=>{R(D=>({...D,[s]:c})),S(s,c)},k=async()=>{try{await w()&&(y({user:x}),N({tokens:p}),j(f))}catch(s){console.error("Register error:",s),b()}};return e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-extrabold leading-[1.25] text-text01 mb-1",children:t("register.regis")}),e.jsx("p",{className:"font-normal text-text01 text-base mb-2",children:t("register.for")}),e.jsxs("form",{className:"space-y-6",onSubmit:z(k),children:[e.jsx(U,{title:t("register.specify"),options:[{value:"LegalEntity",name:"Юридическое лицо"},{value:"IndividualEntrepreneur",name:"ИП"}],classname:"w-72",...n("organizationType",{required:"Organization Type is required"}),value:a.organizationType,onChange:s=>o("organizationType",s),error:!!r.organizationType,helperText:(l=r.organizationType)==null?void 0:l.message}),e.jsx(m,{type:"text",title:t("register.name"),value:a.fullName,changeValue:s=>o("fullName",s.target.value),error:!!r.fullName,...n("fullName",{required:"Full Name is required"}),helperText:((d=r.fullName)==null?void 0:d.message)||""}),e.jsx(m,{type:"text",title:t("register.car"),value:a.addressRegistration,changeValue:s=>o("addressRegistration",s.target.value),error:!!r.addressRegistration,...n("addressRegistration",{required:"Registration Address is required"}),helperText:(u=r.addressRegistration)==null?void 0:u.message}),e.jsx("div",{className:`h-32 ${i?"bg-background06":"bg-disabledFill"} mb-5`,children:e.jsx("div",{className:"flex ml-5",children:e.jsxs("div",{className:"mt-5 flex",children:[e.jsx("div",{children:e.jsx("div",{onClick:v,className:`w-10 h-5 flex items-center rounded-full cursor-pointer transition-colors duration-300 relative ${i?"bg-primary02":"bg-opacity01"}`,children:e.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-300 ${i?"translate-x-6":"translate-x-0"}`})})}),e.jsxs("div",{className:"ml-5",children:[e.jsx("div",{className:"text-text01 text-lg font-semibold",children:t("register.request")}),e.jsx("div",{className:"text-text01 font-normal text-sm",children:t("register.after")})]})]})})}),e.jsx($,{type:"basic",title:t("register.register"),form:!0,classname:"w-full",isLoading:q})]})]})};export{A as default};
